{"version":3,"sources":["main.js"],"names":["cc","Class","extends","Component","properties","cubePrefabs","Prefab","progressTime","ProgressBar","labelCurrentMax","Label","labelTopHistory","starDesNode","Node","onLoad","director","getPhysicsManager","enabled","configManager","init","gameManager","node","getComponent","AudioSource","game","addPersistRootNode","on","EventType","TOUCH_START","onTouchStart","touch","hideStarDes","update","dt","progress","leftTime","newLineTime","string","maxLevel","toString","onRestartClicked","restart"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,iBAAa,CAACL,GAAGM,MAAJ,CADH;AAEVC,kBAAaP,GAAGQ,WAFN;AAGVC,qBAAgBT,GAAGU,KAHT;AAIVC,qBAAgBX,GAAGU,KAJT;;AAMVE,iBAAYZ,GAAGa;AANL,GAHL;;AAYP;AACAC,UAAQ,kBAAY;AAClBd,OAAGe,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAAwC,IAAxC;AACA;AACA;AACAC,kBAAcC,IAAd;AACAC,gBAAYD,IAAZ,CAAiB,KAAKd,WAAtB,EAAkC,KAAKgB,IAAvC,EAA4C,KAAKA,IAAL,CAAUC,YAAV,CAAuBtB,GAAGuB,WAA1B,CAA5C;;AAEAvB,OAAGwB,IAAH,CAAQC,kBAAR,CAA2B,KAAKb,WAAhC;;AAEA,SAAKS,IAAL,CAAUK,EAAV,CAAa1B,GAAGa,IAAH,CAAQc,SAAR,CAAkBC,WAA/B,EAA2C,KAAKC,YAAhD,EAA6D,IAA7D;AACD,GAvBM;;AAyBPA,cAzBO,wBAyBMC,KAzBN,EAyBY;AACjBV,gBAAYW,WAAZ;AACD,GA3BM;;;AA6BP;AACAC,UAAQ,gBAAUC,EAAV,EAAc;AACpBb,gBAAYY,MAAZ,CAAmBC,EAAnB;;AAEA,SAAK1B,YAAL,CAAkB2B,QAAlB,GAA2Bd,YAAYe,QAAZ,GAAqBf,YAAYgB,WAA5D;AACA,SAAK3B,eAAL,CAAqB4B,MAArB,GAA4B,CAACjB,YAAYkB,QAAZ,GAAqB,CAAtB,EAAyBC,QAAzB,EAA5B;AACD,GAnCM;AAoCPC,kBApCO,8BAoCW;AAChBpB,gBAAYqB,OAAZ;AACD;AAtCM,CAAT","file":"main.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    cubePrefabs: [cc.Prefab],\n    progressTime:cc.ProgressBar,\n    labelCurrentMax:cc.Label,\n    labelTopHistory:cc.Label,\n\n    starDesNode:cc.Node\n  },\n\n  // use this for initialization\n  onLoad: function () {\n    cc.director.getPhysicsManager().enabled=true;\n    // cc.director.getPhysicsManager().debugDrawFlags=1;\n    // cc.view.enableAntiAlias(false);\n    configManager.init();\n    gameManager.init(this.cubePrefabs,this.node,this.node.getComponent(cc.AudioSource));\n\n    cc.game.addPersistRootNode(this.starDesNode);\n\n    this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);\n  },\n\n  onTouchStart(touch){\n    gameManager.hideStarDes();\n  },\n\n  // called every frame\n  update: function (dt) {\n    gameManager.update(dt);\n\n    this.progressTime.progress=gameManager.leftTime/gameManager.newLineTime;\n    this.labelCurrentMax.string=(gameManager.maxLevel+1).toString();\n  },\n  onRestartClicked(){\n    gameManager.restart();\n  }\n});\n"]}